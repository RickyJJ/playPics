{
  "code": "import { Context } from \"../../resource/Context\";\r\nimport { ColorUtils } from \"../../utils/ColorUtils\";\r\nimport { FontInfo } from \"../../utils/FontInfo\";\r\nimport { Pool } from \"../../utils/Pool\";\r\nimport { WordText } from \"../../utils/WordText\";\r\nimport { ILaya } from \"../../../ILaya\";\r\nexport class FillTextCmd {\r\n    constructor() {\r\n        this._textIsWorldText = false;\r\n        this._fontColor = 0xffffffff;\r\n        this._strokeColor = 0;\r\n        this._fontObj = FillTextCmd._defFontObj;\r\n        this._nTexAlign = 0;\r\n    }\r\n    static create(text, words, x, y, font, color, textAlign, lineWidth, borderColor) {\r\n        var cmd = Pool.getItemByClass(\"FillTextCmd\", FillTextCmd);\r\n        cmd.text = text;\r\n        cmd._textIsWorldText = text instanceof WordText;\r\n        cmd._words = words;\r\n        cmd.x = x;\r\n        cmd.y = y;\r\n        cmd.font = font;\r\n        cmd.color = color;\r\n        cmd.textAlign = textAlign;\r\n        cmd._lineWidth = lineWidth;\r\n        cmd._borderColor = borderColor;\r\n        return cmd;\r\n    }\r\n    recover() {\r\n        Pool.recover(\"FillTextCmd\", this);\r\n    }\r\n    run(context, gx, gy) {\r\n        if (ILaya.stage.isGlobalRepaint()) {\r\n            this._textIsWorldText && this._text.cleanCache();\r\n        }\r\n        if (this._words) {\r\n            Context._textRender.fillWords(context, this._words, this.x + gx, this.y + gy, this._fontObj, this._color, this._borderColor, this._lineWidth);\r\n        }\r\n        else {\r\n            if (this._textIsWorldText) {\r\n                context._fast_filltext(this._text, this.x + gx, this.y + gy, this._fontObj, this._color, this._borderColor, this._lineWidth, this._nTexAlign, 0);\r\n            }\r\n            else {\r\n                Context._textRender.filltext(context, this._text, this.x + gx, this.y + gy, this.font, this.color, this._borderColor, this._lineWidth, this._textAlign);\r\n            }\r\n        }\r\n    }\r\n    get cmdID() {\r\n        return FillTextCmd.ID;\r\n    }\r\n    get text() {\r\n        return this._text;\r\n    }\r\n    set text(value) {\r\n        this._text = value;\r\n        this._textIsWorldText = value instanceof WordText;\r\n        this._textIsWorldText && this._text.cleanCache();\r\n    }\r\n    get font() {\r\n        return this._font;\r\n    }\r\n    set font(value) {\r\n        this._font = value;\r\n        this._fontObj = FontInfo.Parse(value);\r\n        this._textIsWorldText && this._text.cleanCache();\r\n    }\r\n    get color() {\r\n        return this._color;\r\n    }\r\n    set color(value) {\r\n        this._color = value;\r\n        this._fontColor = ColorUtils.create(value).numColor;\r\n        this._textIsWorldText && this._text.cleanCache();\r\n    }\r\n    get textAlign() {\r\n        return this._textAlign;\r\n    }\r\n    set textAlign(value) {\r\n        this._textAlign = value;\r\n        switch (value) {\r\n            case 'center':\r\n                this._nTexAlign = ILaya.Context.ENUM_TEXTALIGN_CENTER;\r\n                break;\r\n            case 'right':\r\n                this._nTexAlign = ILaya.Context.ENUM_TEXTALIGN_RIGHT;\r\n                break;\r\n            default:\r\n                this._nTexAlign = ILaya.Context.ENUM_TEXTALIGN_DEFAULT;\r\n        }\r\n        this._textIsWorldText && this._text.cleanCache();\r\n    }\r\n}\r\nFillTextCmd.ID = \"FillText\";\r\nFillTextCmd._defFontObj = new FontInfo(null);\r\n",
  "references": [
    "D:/MySpace/Projects/NextPresent/PresentNext/libs/laya/resource/Context.ts",
    "D:/MySpace/Projects/NextPresent/PresentNext/libs/laya/utils/ColorUtils.ts",
    "D:/MySpace/Projects/NextPresent/PresentNext/libs/laya/utils/FontInfo.ts",
    "D:/MySpace/Projects/NextPresent/PresentNext/libs/laya/utils/Pool.ts",
    "D:/MySpace/Projects/NextPresent/PresentNext/libs/laya/utils/WordText.ts",
    "D:/MySpace/Projects/NextPresent/PresentNext/libs/ILaya.ts",
    "D:/MySpace/Projects/NextPresent/PresentNext/libs/laya/utils/HTMLChar.ts"
  ]
}
