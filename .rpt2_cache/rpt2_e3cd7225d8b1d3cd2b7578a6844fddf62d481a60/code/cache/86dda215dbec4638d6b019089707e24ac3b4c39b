{
  "code": "import { AtlasGrid } from \"./AtlasGrid\";\r\nimport { TextTexture } from \"./TextTexture\";\r\nimport { ILaya } from \"../../../ILaya\";\r\nexport class TextAtlas {\r\n    constructor() {\r\n        this.texWidth = 1024;\r\n        this.texHeight = 1024;\r\n        this.texture = null;\r\n        this.charMaps = {};\r\n        this.texHeight = this.texWidth = ILaya.TextRender.atlasWidth;\r\n        this.texture = TextTexture.getTextTexture(this.texWidth, this.texHeight);\r\n        if (this.texWidth / TextAtlas.atlasGridW > 256) {\r\n            TextAtlas.atlasGridW = Math.ceil(this.texWidth / 256);\r\n        }\r\n        this.atlasgrid = new AtlasGrid(this.texWidth / TextAtlas.atlasGridW, this.texHeight / TextAtlas.atlasGridW, this.texture.id);\r\n    }\r\n    setProtecteDist(d) {\r\n    }\r\n    getAEmpty(w, h, pt) {\r\n        var find = this.atlasgrid.addRect(1, Math.ceil(w / TextAtlas.atlasGridW), Math.ceil(h / TextAtlas.atlasGridW), pt);\r\n        if (find) {\r\n            pt.x *= TextAtlas.atlasGridW;\r\n            pt.y *= TextAtlas.atlasGridW;\r\n        }\r\n        return find;\r\n    }\r\n    get usedRate() {\r\n        return this.atlasgrid._used;\r\n    }\r\n    destroy() {\r\n        for (var k in this.charMaps) {\r\n            var ri = this.charMaps[k];\r\n            ri.deleted = true;\r\n        }\r\n        this.texture.discard();\r\n    }\r\n    printDebugInfo() {\r\n    }\r\n}\r\nTextAtlas.atlasGridW = 16;\r\n",
  "references": [
    "D:/MySpace/Projects/NextPresent/PresentNext/libs/laya/webgl/text/AtlasGrid.ts",
    "D:/MySpace/Projects/NextPresent/PresentNext/libs/laya/webgl/text/TextTexture.ts",
    "D:/MySpace/Projects/NextPresent/PresentNext/libs/laya/maths/Point.ts",
    "D:/MySpace/Projects/NextPresent/PresentNext/libs/laya/webgl/text/CharRenderInfo.ts",
    "D:/MySpace/Projects/NextPresent/PresentNext/libs/ILaya.ts"
  ]
}
